<!DOCTYPE html>
<html lang="es" class="light">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Registrar Nuevo Alumno - Gestor de Asistencia Escolar</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <style>
    body { font-family: 'Lexend', sans-serif; }
    .section-divider {
      position: relative;
      margin: 2rem 0;
    }
    .section-divider::before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      top: 50%;
      height: 1px;
      background: linear-gradient(to right, transparent, #cbd5e1, transparent);
    }
  </style>
</head>

<body class="bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 font-display text-slate-800 dark:text-slate-200">
<div class="flex min-h-screen">
  <!-- SideNavBar -->
  <aside class="w-64 flex-shrink-0 bg-gradient-to-b from-slate-800 to-slate-900 text-white flex flex-col p-4 shadow-2xl">
    <div class="mb-8 px-3">
      <span class="material-symbols-outlined text-4xl mb-2 text-blue-400">school</span>
      <h1 class="text-white text-xl font-bold">Gestor de Asistencia Escolar</h1>
    </div>
    <nav class="flex flex-col gap-2">
      <a class="flex items-center gap-3 px-3 py-3 rounded-lg bg-blue-600 shadow-lg transform transition-transform hover:scale-105 text-white" href="#">
        <span class="material-symbols-outlined">person</span>
        <span class="font-semibold">Registro</span>
      </a>
      <a class="flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-slate-700 transition-all text-slate-200 hover:text-white" href="#">
        <span class="material-symbols-outlined">family_restroom</span>
        <span>Alumno</span>
      </a>
      <a class="flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-slate-700 transition-all text-slate-200 hover:text-white" href="#">
        <span class="material-symbols-outlined">family_restroom</span>
        <span>Apoderados</span>
      </a>
      <a class="flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-slate-700 transition-all text-slate-200 hover:text-white" href="#">
        <span class="material-symbols-outlined">event_available</span>
        <span>Asistencia</span>
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-8 overflow-y-auto">
    <div class="max-w-5xl mx-auto">
      <header class="mb-8">
        <div class="flex items-center gap-3 mb-2">
          <span class="material-symbols-outlined text-5xl text-blue-600">person_add</span>
          <p class="text-4xl font-black leading-tight text-slate-800 dark:text-white">
            Registrar Nuevo Alumno
          </p>
        </div>
        <p class="text-slate-600 dark:text-slate-400 ml-16">Complete el formulario con los datos del alumno y su apoderado</p>
      </header>

      <!-- Mensajes -->
      {% for message in messages %}
        {% if message.tags == 'success' %}
          <div class="px-4 py-3 rounded-xl bg-green-50 text-green-700 border-l-4 border-green-500 mb-6 shadow-sm flex items-center gap-3">
            <span class="material-symbols-outlined">check_circle</span>
            <span>{{ message }}</span>
          </div>
        {% else %}
          <div class="px-4 py-3 rounded-xl bg-red-50 text-red-700 border-l-4 border-red-500 mb-6 shadow-sm flex items-center gap-3">
            <span class="material-symbols-outlined">error</span>
            <span>{{ message }}</span>
          </div>
        {% endif %}
      {% endfor %}

      <!-- Formulario -->
      <div class="bg-white dark:bg-slate-900/70 rounded-2xl shadow-2xl overflow-hidden">
        <form method="POST">
          {% csrf_token %}

          <!-- Sección Datos del Alumno -->
          <div class="p-8 bg-blue-50/50 dark:bg-slate-800/30">
            <div class="flex items-center gap-2 mb-6">
              <span class="material-symbols-outlined text-3xl text-blue-600">badge</span>
              <h2 class="text-2xl font-bold text-slate-800 dark:text-white">Datos del Alumno</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="md:col-span-2">
                <label class="flex flex-col group">
                  <p class="text-base font-semibold pb-2 text-slate-700 dark:text-slate-300 flex items-center gap-2">
                    <span class="material-symbols-outlined text-sm">person</span>
                    Nombre Completo del Alumno
                  </p>
                  <input 
                    type="text" 
                    name="nombre" 
                    placeholder="Ej: María Fernanda González López" 
                    required 
                    class="form-input rounded-xl border-2 border-slate-200 p-4 h-14 focus:border-[#3E92CC] focus:ring-4 focus:ring-[#3E92CC]/20 transition-all text-slate-900 font-medium placeholder:text-slate-400 placeholder:font-normal"
                  >
                </label>
              </div>

              <div>
                <label class="flex flex-col group">
                  <p class="text-base font-semibold pb-2 text-slate-700 dark:text-slate-300 flex items-center gap-2">
                    <span class="material-symbols-outlined text-sm">fingerprint</span>
                    RUT
                  </p>
                  <input 
                    type="text" 
                    name="rut" 
                    placeholder="12.345.678-9" 
                    required 
                    class="form-input rounded-xl border-2 border-slate-200 p-4 h-14 focus:border-[#3E92CC] focus:ring-4 focus:ring-[#3E92CC]/20 transition-all text-slate-900 font-medium placeholder:text-slate-400 placeholder:font-normal"
                  >
                </label>
              </div>

              <div class="md:col-span-2">
                <label class="flex flex-col group">
                  <p class="text-base font-semibold pb-2 text-slate-700 dark:text-slate-300 flex items-center gap-2">
                    <span class="material-symbols-outlined text-sm">menu_book</span>
                    Curso
                  </p>
                  <select 
                    name="curso" 
                    required 
                    class="form-select rounded-xl border-2 border-slate-200 p-4 h-14 focus:border-[#3E92CC] focus:ring-4 focus:ring-[#3E92CC]/20 transition-all text-slate-900 font-medium"
                  >
                    <option value="" class="text-slate-500">Seleccione un curso</option>
                    {% for c in cursos %}
                      <option value="{{ c.id }}" class="text-slate-900">{{ c.nombre }}</option>
                    {% endfor %}
                  </select>
                </label>
              </div>
            </div>
          </div>

          <!-- Divisor -->
          <div class="section-divider"></div>

          <!-- Sección Datos del Apoderado -->
          <!-- Apoderado -->
          <div class="md:col-span-2 border-t border-slate-300 mt-6 pt-6">
            <p class="text-xl font-semibold mb-4">Datos del Apoderado</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Nombre del Apoderado -->
              <div>
                <label class="flex flex-col min-w-40 flex-1">
                  <p class="text-base font-medium pb-2">Nombre Completo</p>
                  <input name="apoderado_nombre" type="text" required
                    placeholder="Ingrese el nombre del apoderado"
                    class="form-input w-full rounded-lg border border-slate-300 p-[15px] h-14
                          text-slate-800 dark:text-slate-200 bg-background-light dark:bg-background-dark
                          focus:outline-0 focus:ring-2 focus:ring-primary/50 placeholder:text-slate-400" />
                </label>
              </div>

              <!-- Correo del Apoderado -->
              <div>
                <label class="flex flex-col min-w-40 flex-1">
                  <p class="text-base font-medium pb-2">Correo Electrónico</p>
                  <input name="apoderado_correo" type="email" required
                    placeholder="correo@ejemplo.com"
                    class="form-input w-full rounded-lg border border-slate-300 p-[15px] h-14
                          text-slate-800 dark:text-slate-200 bg-background-light dark:bg-background-dark
                          focus:outline-0 focus:ring-2 focus:ring-primary/50 placeholder:text-slate-400" />
                </label>
              </div>

              <!-- Dirección del Apoderado -->
              <div>
                <label class="flex flex-col min-w-40 flex-1">
                  <p class="text-base font-medium pb-2">Dirección</p>
                  <input name="apoderado_direccion" type="text"
                    placeholder="Ingrese la dirección"
                    class="form-input w-full rounded-lg border border-slate-300 p-[15px] h-14
                          text-slate-800 dark:text-slate-200 bg-background-light dark:bg-background-dark
                          focus:outline-0 focus:ring-2 focus:ring-primary/50 placeholder:text-slate-400" />
                </label>
              </div>

              <!-- Teléfono del Apoderado -->
              <div>
                <label class="flex flex-col min-w-40 flex-1">
                  <p class="text-base font-medium pb-2">Teléfono</p>
                  <input name="apoderado_telefono" type="text"
                    placeholder="Ingrese el teléfono"
                    class="form-input w-full rounded-lg border border-slate-300 p-[15px] h-14
                          text-slate-800 dark:text-slate-200 bg-background-light dark:bg-background-dark
                          focus:outline-0 focus:ring-2 focus:ring-primary/50 placeholder:text-slate-400" />
                </label>
              </div>
            </div>
          </div>


          <!-- Botones de Acción -->
          <div class="p-8 bg-slate-50 dark:bg-slate-800/50 flex justify-end gap-4">
            <button 
              type="button" 
              class="px-8 py-3 rounded-xl font-semibold text-slate-700 bg-white border-2 border-slate-300 hover:bg-slate-50 transition-all shadow-sm hover:shadow-md"
            >
              Cancelar
            </button>
            <button 
              type="submit" 
              class="px-8 py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-[#0A2463] to-[#3E92CC] hover:shadow-lg hover:shadow-[#3E92CC]/50 transform hover:scale-105 transition-all flex items-center gap-2"
            >
              <span class="material-symbols-outlined">save</span>
              Registrar Alumno
            </button>
          </div>
        </form>
      </div>
    </div>
  </main>
</div>
</body>
</html>